<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Day 03 - task</title>
    <link rel="stylesheet" href="./CSS/style.css" />
  </head>
  <body>
    <header>Day three - Task (by - Udhayasooriyan)</header>
    <nav>
      <a href="#com">Comparing JSON</a>
      <a href="#flag">Printing flag using API</a>
      <a href="#all">Printing required data using API</a>
    </nav>
    <div class="wrapper" id="com">
      <h1>
        Comparing two JSON have same properties without order in javascript
      </h1>
      <h3>Method shown below</h3>
      <code>
        <pre>
    let obj1 = {name: "person", age: 5};
    let obj2 = {age: 5, name: "person"};
    let result=true;
    if(Object.keys(obj1).length==Object.keys(obj2).length){
        for(key in obj1) { 
            if(obj1[key] !== obj2[key]) {
                result=false;
                break;
            }
        }
    }
    else {
        result=false;
    }
    console.log(result);
        </pre>
      </code>
      <ul>
        Explanation:
        <li>
          first need to check both value length, if it is not same, result will
          be false
        </li>
        <li>
          then using for in loop need to check Key of value 1 & value 2, if it
          is not same result will be false
        </li>
      </ul>
      <i class="line"
        >Note: above code already executed on same page, kindly check
        console.log</i
      >
    </div>
    <div class="wrapper" id="flag">
      <h1>Using Rest country API displaying flags</h1>
      <h3>Displaying flag using API code mentioned below:</h3>
      <code>
        <pre>
   
  const req = new XMLHttpRequest();
  req.open("GET", "https://restcountries.com/v3.1/all");
  req.send();
  req.addEventListener("load", request);
  function request() {
    let data = JSON.parse(this.responseText);
    for (i in data) {
    console.log(data[i].flag);
    }}     
        </pre>
      </code>
      <h3>Explanation</h3>
      <p>on above code mention</p>
      <ul>
        <li>first created a variable to request XMLHttpRequest</li>
        <li>
          next using req.open("GET", "https://restcountries.com/v3.1/all") in
          this get is method & next is URL location;
        </li>
        <li>then sends the request to the server (used for GET)</li>
        <li>
          on above method data loaded on load time so using addEventListener
          during loading time one function called request()
        </li>
        <li>
          on request function, responseText parse as JSON & store in data as
          JSON
        </li>
        <li>then using looping method flag printed in console</li>
      </ul>
      <i class="line"
        >Note: above code already executed on same page, kindly check
        console.log</i
      >
    </div>
    <div class="wrapper" id="all">
      <h1>Using Rest country API displaying Required data</h1>
      <h3>Displaying required data using API code mentioned below:</h3>
      <code>
        <pre>
   
  const req = new XMLHttpRequest();
  req.open("GET", "https://restcountries.com/v3.1/all");
  req.send();
  req.addEventListener("load", request);
  function request() {
    let data = JSON.parse(this.responseText);
    for (i in data) {
      console.log(
        `Country Name : ${data[i].name.common},
         Region: ${data[i].region},
          Sunregion: ${data[i].subregion},
           Population: ${data[i].population}`);
    }}     
        </pre>
      </code>
      <h3>Explanation</h3>
      <p>on above code mention</p>
      <ul>
        <li>first created a variable to request XMLHttpRequest</li>
        <li>
          next using req.open("GET", "https://restcountries.com/v3.1/all") in
          this get is method & next is URL location;
        </li>
        <li>then sends the request to the server (used for GET)</li>
        <li>
          on above method data loaded on load time so using addEventListener
          during loading time one function called request()
        </li>
        <li>
          on request function, responseText parse as JSON & store in data as
          JSON
        </li>
        <li>then using looping method required data printed in console</li>
      </ul>
      <i class="line"
        >Note: above code already executed on same page, kindly check
        console.log</i
      >
    </div>
    <script src="./JS/compareJSON.js"></script>
    <script src="./JS/logFlagUsingAPI.js"></script>
    <script src="./JS/logMentionedDataUsingAPI.js"></script>
    <!-- <script>
      console.log("script working");
      const req = new XMLHttpRequest();
      req.open("GET", "https://restcountries.com/v3.1/all");
      req.send();
      req.addEventListener("load", request);
      function request() {
        let data = JSON.parse(this.responseText);
        for (i in data) {
          console.log(`Country flag : ${data[i].flag}`);
          console.log(
            `Country Name : ${data[i].name.common}, Region: ${data[i].region}, Sunregion: ${data[i].subregion}, Population: ${data[i].population}`
          );
        }
      }
    </script> -->
  </body>
</html>
